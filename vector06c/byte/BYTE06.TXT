
                Программное обеспечение для  ком-
                   пьютера "ВЕКТОР-06Ц":     игровые,
                   учебные и прикладные  программы Вы
                   можете заказать по адресу: г.Киров
                   ул. Карла-Маркса, 126,центр "БАЙТ"
                   приемный пункт  "Унисон". А иного-
                   родние могут сделать заказ  по ад-
                   ресу: г.Киров, 610006,  а/я  1248,
                Зубкову  Александру  Николаевичу.


  Если у Вас есть вопросы и проблемы, связанные с  "ВЕКТОРом-06Ц",
 предложения и обьявления, материалы для статьи или заметки, напи-
 шите  нам. Мы сумеем Вам помочь.  Наш адрес:   г. Киров,  610006,
 а/я 1248, центр "Байт".


    ПОДКЛЮЧЕНИЕ ПК "ВЕКТОР-06Ц" К ТЕЛЕВИЗОРУ
    ----------------------------------------

 Известно много случаев,когда при подключении ПК "Вектор-06ц" к ТЛВ
ТЛВ выходит из строя. Обычно "сгорает" одна  из микросхем:  К174УК1
(МСА660) или К174АФ5. Микросхемы "сгорают"из-за напряжения  порядка
100В на RGB-выходе компьютера. Напряжение образуется  в  результате
не совсем удачного построения импульсного блока питания. Это напря-
жение падает до нуля в момент соединения "корпуса" ТЛВ с "корпусом"
компьютера. Исходя из этого, предлагаем два простых пути сохранения
телевизора:
 1. Соединение ТЛВ и ПК производить при выключенном ПК.
 2. Доработать шнур, соединяющий ПК и ТЛВ, следующим образом:
    - разобрать на шнуре штекер и припаять небольшой кусочек прово-
      да между контактом 4 и одной из металлических половинок  ште-
      кера(произвести доработку обоих штекеров);
    - в RGB-гнезде, которое вы встроили  в свой телевизор, кусочком
      провода с помощью пайки соедините контакт 4 и корпус гнезда.
 Мы советуем выполнить эти рекомендации,т.к. "сгорающие" микросхемы
очень дефицитны.

     МАЛЕНЬКИЕ БУКВЫ В РЕДАКТОРЕ-АССЕМБЛЕРЕ
     --------------------------------------

 У многих пользователей БПЭВМ "Вектор-06Ц" возникают  проблемы  при
попытке создавать тексты, пользуясь редактором-ассемблером,входящим
в состав базового программного обеспечения компьютера. При  попытке
записать на магнитную ленту текст, содержащий большие  и  маленькие
буквы, запись происходит до тех пор, пока  не встретится  маленькая
буква (с кодом больше 127). Ниже будет приведен способ, позволяющий
обойти это ограничение, но сначала одно очень важное замечание. де-
ло в том, что после запуска редактор настраивается на работу с  на-
бором символов КОИ-7. Этот код позволяет использовать символы с ко-
дами 0...127, т.е. можно использовать только большие буквы русского
и латинского алфавитов. Следовательно,  разработнный  для  создания
текстов программ, ассемблер-редактор не рассчитан  на использование
маленьких букв. Маленькие буквы, которые удается вводить  при испо-
льзовании редактора - результат недостаточной проработанности реда-
ктора и Монитора-отладчика,разработчиками которого являются,кстати,
небезызвестные нам г-да Темиразов & Соколов.
 Столкнувшись  с невозможностью записать  на  магнитофон  набранный
текст, большинство умельцев прибегает к помощи  Монитора-отладчика,
выгружая в его формате область памяти,содержащей необходимые данные
При этом мало кто задумывается: а в каком коде набран текст, доста-
вивший мне столько хлопот ?
 Действительно, код этот представляет собой нечто весьма несуразное
и не имеющее аналогов в мире, во всяком случае  цивилизованном.  Вы
можете возразить мне: какая разница, в каком коде набран текст,ведь
на экран он выводится нормально ? Дело в том, что проблемы начнутся
при попытке напечатать текст на принтере.
 Поэтому я искренне советую вам перейти на использование кода КОИ-8
Тексты, набранные в этом коде, хорошо печатаются  на принтере, осо-
бенно на "МС 6313". (Но принтер - это отдельная проблема.)
 А сейчас желающие работать в КОИ-8,изменять число символов в стро-
ке, записывать и читать программы,содержащие маленькие буквы должны
набрать следующую программу:

 00C0: 3E 2F 32 06 0B 3E 4E 32 E9 0B 21 D9 00 22 07 01
 00D0: 21 DB 00 22 27 01 C3 F6 00 CD 03 F8 FE 80 D8 FE
 00E0: C0 D0 E6 7F C9 01 00 00 7E FE FF C8 81 4F 3E 00
 00F0: 88 47 23 C3 E8 00 21 E5 00 22 0E 09 22 CE 09 7F

 Теперь выгрузите ее на магнитную ленту вместе с ассемблером-редак-
тором. Первый запуск программы после загрузки осуществляется коман-
дой GC0, последующие - GC0 или G100.
 По адресу 00С6 содержится количество символов в строке - Вы можете
изменить его.
 После того, как основные проблемы решены,возникает вопрос:как быть
с текстами, набранными в коде КОИ-7 ? Воспользуйтесь такой вот про-
граммой:

 0040: 21 00 28 7E FE FF CA 00 00 CD 51 00 77 23 C3 43
 0050: 00 FE 60 DA 67 00 FE 80 DA 68 00 FE C0 DA 6D 00
 0060: FE E0 DA 72 00 D6 20 C9 F6 80 C3 67 00 E6 7F C3
 0070: 67 00 D6 60 C3 67 00 00 00 00 00 00 00 00 00 00

г.Вятка                                                  А. Кочуров

    КАК НА БЕЙСИКЕ СЫГРАТЬ МЕЛОДИЮ БОЛЬШЕ 127 СИМВОЛОВ.
    ---------------------------------------------------

 В 4 номере "Байта" нашел просьбу откликнуться на вопрос читателей,
как сыграть на Бейсике мелодию, занимающую более 127 символов. Сде-
лать, на мой взгляд, это довольно легко.
 На "Векторе" я программирую музыку таким вот, весьма простым, спо-
собом.Речь пойдет о программировании одного канала,т.к. для осталь-
ных - все аналогично.

 10 CLEAR 5000          резервирую память для
                строковых переменных в зави-
                симости от об'ема музыки

 20 А$="L805ABP.....C16E#"  пишу строку, величину к-рой
                можно менять по собствен-
                ному усмотрению, оборвав там,
                где это более удобно. естест-
                венно, она д.б. меньше 127
                символов.

 30 PLAY A$

 40 IF PEEK(772)<>0 THEN 40 проверяю, все ли сыграно.

 50 A$="L16O2BPAP....E#P"   пишу очередную часть мелодии

 60 PLAY A$

 70 IF PEEK(772)<>0 THEN 70 проверяю, все ли сыграно

                      и т.д.

 Таким образом, можно напихать в программу сколько  угодно  длинную
мелодию, пока хватит памяти.
 Некоторая сложность возникает в том,что при переходе от одного ку-
сочка к другому во время исполнения музыки появляется небольЌая па-
уза, примерно в 1/16 или 1/32 долю, заметная на слух только специа-
листу. Избежать этого можно следующим образом.
 Строку, с предложением на музыкальном макроязыке, стараться закон-
чить на паузе. Например:

 10 А$="L2O5APGPD#PCP"   , и из последней паузы
просто вычесть эту 1/16 или 1/32, кому как нравится. строка
будет иметь такой вид:

 10 A$="L2O5APGPD#PCPP4P8P16"
        или       - если вычтена 1/16
 10 A$="L2O5APGPD#PCP4.P16" (пауза вместо 8/16
                 стала 7/16)

 10 A$="L2O5APGPD#PCP4P8P16P32"
        или       - если вычли 1/32
 10 A$="L2O5APGPD#PCP4.P16."    (пауза вместо 16/32
                 стала 15/32)

 Сбивания темпа между двумя кусочками теперь нет. Хуже, если по ка-
ким-то причинам вам не удается закончить строку паузой,либо в ваЌей
мелодии вообще нет пауз. Тогда подобную операцию придется  произво-
дить с любой нотой, отчего общее ее  восприятие  слегка  пострадает
(она будет как бы раздроблена на мелкие части), хотя, повторяю, что
не посвященный в такие нюансы вряд ли что-нибудь заметит.
 В случае работы с несколькими каналами необходимо заканчивать стро
ки с их записью синхронно по времени,т.е. если в одном канале у вас
записано в целых 1/4 доли, то и в остальных д.б. столько же (или не
больше). В последнем случае удаление лишней доли необходимо  произ-
вести только в самом длинном по времени звучания канале.

 г.Киров                                               Потапов Д.А.
                                    4

 Примечание редакции "Байт":

 Байт по адресу 772 имеет следующий формат:

      7 6 5 4 3 2 1 0
      0 0 0 0 0 Х Х Х         0 - не звучит
            ѓ ѓ ѓ         1 - звучит
            ѓ ѓ ђ”” 1 KAНАЛ
            ѓ ѓ
            ѓ ђ”””” 2 КАНАЛ
            ѓ
            ђ”””””” 3 КАНАЛ


 В Драйверах устройств имеется такая же ячйка по адресу 1А8ВН.



          РУССКИЕ БУКВЫ В EDASM
          ---------------------

 В текстовом редакторе пакета EDASM в результате ошибочного опреде-
ления конца файла становится невозможным правильный вывод  на ленту
текстов, содержащих символы с кодами больше 127, т.к. авторы прове-
ряют только наличие в байте знакового (старшего) бита. Предлагаемые
исправления в коде редактора позволяют обойти этот недостаток:

 975: 3C  INR A
 976: C8  RZ
 977: 3D  DCR A
 978: 81  ADD C
 979: 4F  MOV C,A
 97A: 88  ADC B
 97B: 91  SUB C
                           П.Желнов, г.Отрадный


      Цикл статей по программированию на языке Паскаль.
      -------------------------------------------------

 С этого номера "Байта" мы начинаем цикл статей  о программировании
на языке ЛС-Паскаль.

    Примечание редакции "Байт":
  Программисты, занимающиеся изучением  языка ЛС-Паскаль ! Если  вы
что-то обнаружили (интересные особенности,ошибки и т.д.) или соста-
вили свои процедуры или функции, необходимые в работе, напишите нам
по адресу: 610006, г.Киров, а/я 1248, "Байт" (с пометкой  Паскаль).
Самое интересное будет опубликовано!
                        ТМК Soft ; г.Киров-1991




  Часть I.
           НОВЫЕ ПРОЦЕДУРЫ И ФУНКЦИИ ДЛЯ "ЛС-ПАСКАЛЬ v2.1"
           -----------------------------------------------
                                    5
    1. Назначение модуля "HELP".

 Каждый, кому приходилось приходилось  писать  программы  на  языке
ЛС-Паскаль, ощущал отсутствие (или присутствие в форме,затрудняющей
затрудняющей отладку) ряда необходимых процедур и функций,имеющихся
в Бейсике.
 Модуль "Неlp1V27" (см. Приложение 1) представляет собой библиотеку
процедур и функций, предназначенных для использования при написании
программ на языке ЛС-Паскаль v2.1 для БПЭВМ "Вектор-06Ц". Использо-
вание этого модуля облегчает создание программ.
 В состав "Help.Pas v(1.27)" входят следующие подпрограммы:

   Процедуры:

  1. CLS          - очистка экрана, перемещение  курсора  в
                левый верхний угол экрана.
  2. HOME         - перемещение  курсора  в  левый  верхний
                угол экрана.
  3. CUR(X,Y)         - прямая адресация курсора в знакоместо и
                и строку.
  4. PAUSE(S,D)       - пауза в выполнении программы в секундах
                и долях  екунды.
  5. RANDOM       - перебор значений RND.
  6. POKE(A,D)        - запись числа в ячейку памяти.
  7. OUT(P,D)         - запись числа в порт.
  8. SCREN0(16 параметров)- программирование таблицы цветов.
  9. SCREN3(8 параметров) - задание маски вывода.
 10. ТEXT(6 параметров)   - --//--
 11. WRTIME       - вывод показания таймера.
 12. SPRITE(4 параметра)  - вывод спрайтов.

   Функции:

  1. INP(P)       - чтение числа из порта.
  2. SGN(P)       - определение знака числа.
  3. ABS(P)       - определение абсолютной величины аргуме-
                нта.
  4. PEEK(A)          - чтение числа из ячейки памяти.
  5. POINT(X,Y)       - цвет точки.
  6. SQR(P)       - вычисление квадратного корня.
  7. FACT(P)          - вычисление факториала.


       2. Условия применения.

 Для разработки программного обеспечения на языке ЛС-Паскаль с  ис-
пользованием модуля "Help.Pas v(1.27)" необходима следующая минима-
льная конфигурация технических средств:

 - БПЭВМ "Вектор-06Ц";
 - монитор или ТВ-приемник;
 - бытовой кассетный магнитофон.

   а также программное обеспечение:

    файлы:

 1. PAS1.ROM        (система ЛС-Паскаль v2.1);
 2. PAS2.ROM        (КомПас);                       6
 3. PASLIB.MON      (библиотека подпрограмм);
 4. HELP1v27.PAS    (модуль);
 5. SPRITE.MON      (п/п к PROC SPRITE);
 6. MONITOR2v5.ROM  (Монитор-отладчик);

   и для более эффективного составления программ желательно  иметь:

 - FONTED1v1.BAS    (редактор знакогенератора 1.1;Лапушнер,Кишинев)
 - МузРед-1.ВАS     (Дашковский, Черновцы);
 - SPRITEDESIGN.BAS (спрайт-редактор; Луппов, Киров);
 - Карандаш.ROM     (графический редактор; Смирнов, Ростов-на-Дону);
 - Редактор палитры v1.2.BAS (Кишинев);
 - Редактор масок v1.1 (Кишинев),

   а также описания всех перечисленных выше программ.


    3. Подключение модуля "Help" к программе пользователя.

 В редактор системы ЛС-Паскаль директивой LOAD грузят модуль "Help"
(если он был набран ранее  и  сохранен на МЛ;  если отсутствует, то
вводят с клавиатуры). Директивой  INSERT#1 вводят описания перемен-
ных, констант и т.д. Затем директивой APPEND вводят свои  процедуры
и функции, а также тело программы.

 P.S.Внимание ! При составлении программы пользователь(программист)
может убрать (уничтожить) неиспользуемые процедуры или функции  мо-
дуля командой DELETE#, т.к. они не взаимосвязаны (то есть  работают
автономно, не обращаясь друг к другу).

 Внимание !!! В программе пользователя не использовать  переменные:
Р,P0,P1,P2,P3,P4,P5,P6,P7,P8,P9,PA,PB,PC,PD,PE,PF,а также массив Р.


    4. Описание процедур и функций модуля "Help v(1.27)".


           PROC CLS
-------------------------------------------------------------------

Назначение:        Очистка экрана, перемещение курсора в левый вер-
           хний угол экрана.
Входные параметры: Нет
Действие:          Очистка экрана (в соответствии с режимом  SPLAN,
           разрешенные экранные плоскости).
Побочное действие: а). Установка режима вывода UNIT(1);
           б). перевод строки;
           в). выход из режима вывода увеличенных символов.
Пример:        22 CLS;


       PROC HOME
-------------------------------------------------------------------

Назначение:    Перемещение курсора в левый верхний угол экрана.
Входные параметры: Нет
действие:      Перемещение курсора в левый верхний угол экрана.
Побочное действие: а). Установка режима вывода UNIT(1);
           б). перевод строки;                  7
           в). выход из режима вывода увеличенных символов;
           г). "антискроллинг" экрана (против смещения  эк-
               рана при многократном выводе текста и графи-
               ческой информации в одно и то же место экра-
               на).
Пример:        23 HOME;


       PROC CUR(X,Y)
-------------------------------------------------------------------

Назначение:    Прямая адресация курсора.
Входные параметры: Х - знакоместо (по горизонтали)
           Х= от 0 до 41
           Y - строка (по вертикали)
           Y= от 0 до 24
           Нумерация снизу-вверх, слева-направо.
Действие:      Прямая адресация курсора в знакоместо и строку.
Побочное действие: а). Режим вывода UNIT(1);
           б). перевод  строки  (отмена вывода  увеличенных
               символов).
Пример:        114 CUR(4,11);


       PROC PAUSE(S,D)
-------------------------------------------------------------------

Назначение:    "Пустой" цикл, задержка в выполнении программы.
Входные параметры: S - пауза целых секунд
           S= oт 0 до 128
           D - пауза в долях секунды
           D= от 0.02 до 0.99
Действие:      Задержка в выполнении  программы  (более удобна,
           чем использование "пустого" цикла).
Побочное действие: Режим вывода UNIT(1).
Пример:        13 PAUSE(0,2) - пауза в 0.02 с.
           14 PAUSE(0,70)- пауза в 0.7 с.


       PROC RANDOM
-------------------------------------------------------------------

Назнчение:     Перебор значений RND.
Входные параметры: Нет
Действие:      Перебор значений RND, т.к. при запуске программы
           распределение RND одинаково. (Более случайные,не
           повторяемые значения RND).
Побочное действие: Нет
Пример:        32 RANDOM;


       PROC POKE(A,D)
-------------------------------------------------------------------

Назначение:    Запись числа в ячейку памяти.
Входные параметры: А - адрес ячейки памяти
           А= от 0 до 65535
           D - число
           D= от 0 до 65535                 8
Действие:      Запись числа в ячейку памяти. Если число  меньше
           255, то оно записывается  в  одну  ячейку. Число
           больше 255 записывается следующим образом:в ячей
           ку А - младший байт, в ячейку А+1 - старший байт
           Это удобно для передачи данных кодовым п/п и т.д
Побочное действие: Нет
Пример:        41 POKE(13000,40000);


   PROC SCREN0(P0,P1,P2,P3,P4,P5,P6,P7,P8,P9,PA,PB,PC,PD,PE,PF)
-------------------------------------------------------------------

Назначение:    Установка физических цветов.
Входные параметры: Р0 -  0 цвет (цвет фона)
           Р1 -  1 цвет
           ...........
           РЕ - 14 цвет
           РF - 15 цвет
           Внимание! В приложении даны два варианта  проце-
           дур: для режима 1 (16 цветов) и режима 2 (8 цве-
           тов).
Действие:      Установка физических (таблица  цветогенератора).
           Эта процедура более удобна при отладке  программ
           (на отладчике), чем встроенная процедура SCOLOR.
Пример:        11   SCREEN0 (0,128,16,208,7,134,22,63,0,197,34,
            192,2,152,82,255);
           Устанавливает цвета Бейсика.


       PROC SCREN3(P0,P1,P2,P3,P4,P5,P6,P7)
-------------------------------------------------------------------

Назначение:    Установка маски вывода.
Входные параметры: Р0 - 1 байт маски
           .................
           Р7 - 8 байт маски
Действие:      Установка маски вывода для прямоугольников и си-
           мволов увеличенного размера. (Более  удобна  для
           отладки программ  на  отладчике, чем  встроенная
           процедура MASC).
Побочное действие: Нет
Пример:        57 SCREN3(254,254,254,0,240,240,240,0);
           Устанавливает маску "кирпичи".


      PROC OUT(P,D)
-------------------------------------------------------------------

Назначение:    Вывод числа в порт.
Входные параметры: Р - номер порта
           D - число (от 0 до 255)
Действие:      Вывод числа D в порт Р.
Побочное действие: Нет
Пример:        11 OUT(3,136);


          Продолжение в следующем "Байте".
              А ЗНАЕТЕ ЛИ ВЫ ?
              ----------------
         (или кое-что о секретах программ).

                 "КИРАШ"

 В игре "Кираш" очень трудно пройти  все  26  раундов, имея   всего
3 попытки. И хотя вышла версия игры  с 96 жизнями ("Кираш-М"),  все
равно очень многие не могут пройти всю игру.
 Для установки "вечной" жизни нужно загрузить программу  в Монитор-
отладчик (см."Байт-2" и "Байт-4") и изменить ее содержимое  по таб-
лице изменений.

     Таблица изменений (по рабочим адресам).

    адрес    старое значение    новое значение

    2350Н   САН \              00Н (NOP)
    2351Н   FAH --> (JZ 2AFAH)     00H (NOP)
    2352H   2AH /              00H (NOP)

 Если же вы хотите только задать большое количество попыток, то  их
количество (в шестнадцатиричном виде) хранится в ячейке 1Е18Н  (ра-
бочий адрес). Изменения проводятся слдующим образом:

  #S1Е18

  1Е18 03 #230 (десятичное значение) <ВК>
  1Е19 <F4>

 Затем измененный вариант программы выгружают  на ленту  (в формате
ROM) директивой "О>".
 P.S. При увеличении числа попыток, имйте ввиду,  что  максимальное
число попыток 255.
                                              ТМК Soft ; Киров-1991

           "ПОЛЕТ"

 В игре "Полет" при нажатии клавиши <ВК> происходит появление  мар-
кера-указателя готовности смены карты, т.е. можно менять  карты, не
уничтожив нужное количество техники протвника.
 Всего в игре 8 карт (0-7). Из них  4  основные (0-3), а  остальные
(4-7) аналогичны остальным, но вам мешают ракеты. Клавиша включения
ракет "R",при этом на основных картах (0-3), повторное нажатие кла-
виши "R" выключает их.
                          ТМК Soft ; Киров-1991

      ОСОБЕННОСТИ "МОНИТОРА-ОТЛАДЧИКА"
      --------------------------------

 1. При  запуске  Монитора-отладчика  (или  Монитора  "Super  Mons-
ter v3.5") бывает случайное двойное нажатие  клавиш  СБР и БЛК. При
этом Монитор остается по адресам загрузки (с 0000Н или 0100Н),но он
работоспособен. Для распределения  по стандартным  рабочим  адресам
(область 1 или 2) нужно запустить его  с адреса 2D00H (G2D00 <ВК>),
при этом выводится меню распределения.
 2. В Мониторе и программах, функционирующих в нем (с условием, что
они используют его подпрограммы), возможна приостановка вывода тек-
стовой информации - клавиши: УС и S, возобновление вывода - УС и Q.
 3. Клавиша <F5> включает режим прописных букв, а повторное нажатие
выключает его.
 4. Клавиши УС и Р включают режим  дублированного вывода  (все, что
выводится на дисплей,одновременно дубируется на принтере),а повтор-
ное нажатие выключает его.
                                              ТМК Soft ; Киров-1991


