
  ░░░╗  ░░░╗░░░░░░░░╗               ░░░░░╗            ░░░╗
  ▒▒▒║ ▒▒▒╔╝▒▒▒╔══▒▒▒╗                ▒▒▒║    ▒▒▒╗    ▒▒▒║
  ▓▓▓║ ▓▓▓║ ▓▓▓║  ▓▓▓║                ▓▓▓║    ╚══╝  ▓▓▓▓▓▓▓╗
  ███║███╔╝ ███║  ███║ ███████╗  ████████║  █████╗  ╚═███╔═╝
  ██████╔╝  ████████╔╝███╔══███╗███╔══███║    ███║    ███║
  ▓▓▓╔▓▓▓╗  ▓▓▓║▓▓▓╔╝ ▓▓▓▓▓▓▓▓▓║▓▓▓║  ▓▓▓║    ▓▓▓║    ▓▓▓║
  ▒▒▒║ ▒▒▒╗ ▒▒▒║ ▒▒▒╗ ▒▒▒╔═════╝▒▒▒║  ▒▒▒║    ▒▒▒║    ▒▒▒║
  ░░░║  ░░░╗░░░║  ░░░╗ ░░░░░░░╗  ░░░░░░╔░░░╗░░░░░░░╗  ╚░░░░░╗
  ╚══╝  ╚══╝╚══╝  ╚══╝ ╚══════╝  ╚═════╝╚══╝╚══════╝   ╚════╝

                     ТЕКСТОВЫЙ РЕДАКТОР
                        KRedit v1.1

                  Инструкция по применению
               ──────────────────────────────

 Таблица функций редактирования
┌───────┬────────────────┬─────────────────┬─────────────────────┬───────────────────────┐
│клавиша│без модификатора│        УС       │          СС         │        УС+СС          │
├───────┼────────────────┼─────────────────┼─────────────────────┼───────────────────────┤
│вверх  │вверх на строку │вверх на страницу│выделить строку вверх│выделить страницу вверх│
│вниз   │вниз на строку  │вниз на страницу │выделить строку вниз │выделить страницу вниз │
│вправо │вправо на символ│вправо на слово  │                     │                       │
│влево  │влево на символ │влево на слово   │                     │                       │
│НOME   │в начало строки │в начало текста  │                     │выделить начало текста │
│СТР    │в конец строки  │в конец текста   │                     │выделить конец текста  │
│F1     │режим вставки   │                 │вставить блок        │                       │
│F2     │удалить символ  │удалить строку   │удалить блок         │                       │
│F3     │центpовка стpоки│                 │                     │                       │
│F4     │форматир. блок  │                 │                     │                       │
│F5     │устан. границы  │                 │                     │                       │
│АР2    │функции         │                 │                     │                       │
└───────┴────────────────┴─────────────────┴─────────────────────┴───────────────────────┘


                    Регистры клавиатуры

  Имеется три   регистра   клавиатуры  :  регистр  алфавита,
регистр строчных/прописных букв и регистр псевдографики. Те-
кущее  состояние  регистров  отображается  в  нижней  строке
экрана.
  Регистры клавиатуры  изменяются с помощью клавиш регистра:
УС,  СС и РУС/ЛАТ.  УС включает и  выключает  регистр  псев-
дографики,  СС-регистр строчных и прописных букв,  РУС/ЛАТ -
регистр алфавита.
  Текущий регистр влияет на то, какие символы будут вводится
при нажатии клавиш алфавитной группы. Для изменения регистра
без   фиксации  для  ввода  нескольких  символов  на  другом
регистре служат клавиши УС,  СС и  РУС/ЛАТ,  нажимаемые  од-
новременно с вводом символов.
  Для изменения  текущего  регистра  нажмите  клавишу   того
регистра,  который нужно изменить и отпустите ее, не нажимая
в это время других клавиш.
  Регистр псевдографики  не  фиксируется,  то есть для ввода
псевдографических символов необходимо удерживать клавишу УС.
При  этом  на ввод символов влияет состояние регистра строч-
ных-прописных букв.


                  Перемещение по тексту

  Перемещение осуществляется  с  помощью  клавиш  управления
курсором: вверх, вниз, влево, вправо, HOME и СТР. Нажимаемые
без клавиш регистра они перемещают курсор на один символ или
строку. Вместе с клавишей УС происходит перемещение на слово
и на страницу или в конец текста.


                  Редактирование текста

  Имеется два режима редактирования : вставка и забой симво-
лов. Текущий режим индицируется в нижней строке экрана. Сме-
на режима происходит при нажатии клавиши F1. В режиме ВСТАВ-
КА вновь вводимые символы вставляются перед символом, на ко-
тором  стоит  курсор.  Оставшаяся  часть  строки  справа  от
курсора  сдвигается  вправо,  если  в строке еще есть место.
Если строка достигла  максимальной  длины,  дальнейший  ввод
блокируется.
  В режиме  ЗАБОЙ  символ  под  курсором  заменяется  новым.
Курсор в режиме ЗАБОЙ имеет форму прямоугольника.
  Для удаления символа под курсором используется клавиша F2.
Остаток строки справа от курсора сдвигается влево.
  Неверно введенный символ удаляется клавишей ЗБ.  При нажа-
тии  этой клавиши курсор сдвигается влево и удаляется символ
под курсором. В начале строки клавиша ЗБ не действует.
  Для удаления целой строки используется одновременное нажа-
тие клавиш  УС+F2.  Текст  ниже  курсора  сдвигается  вверх.
Курсор переходит в начало следующей строки. Последнюю строку
текста удалить нельзя.
  При нажатии клавиши F2 за концом строки происходит слияние
строк. С позиции курсора в текущую строку добавляется следу-
ющая строка. Текст ниже курсора сдвигается вверх. Слияние не
происходит,  если совместная длина строк больше максимальной
длины строки.
  Разделение строки осуществляется  клавишей  ВК.  При  этом
правая часть строки,  начиная с символа под курсором,  пере-
носится на новую строку.  Текст ниже этой строки  сдвигается
вниз.  Если у вас включен режим АВТООТСТУП, то курсор перей-
дет после перевода строки в ту же позицию, с которой начина-
ется предыдущая строка.  При выключенном режиме курсор пере-
ходит в первую позицию строки.  При вводе редактор автомати-
чески держит нужный отступ от левого края.
  Клавиша ТАБ вводит символ табуляции.  В строке  в  позиции
под  курсором  вставляется  необходимое количество пробелов,
чтобы курсор перешел в позицию,  кратную 8.  Применяется для
форматирования текстов.



                      Работа с блоками

  Редактор позволяет  выделять  в тексте строчные фрагменты,
называемые блоками.  Выделение блока происходит при  нажатии
клавиши СС и клавиш перемещения,  при этом выделенные строки
становятся инверсными. Блок можно расширять, перемещая вверх
и вниз  верхнюю  или  нижнюю  его  границы.  Для перемещения
верхней границы курсор должен стоять в самой  верхней  выде-
ленной строке, для перемещения нижней границы - в строке под
нижней выделенной строкой. Выделенный таким образом фрагмент
текста  можно  скопировать на новое место нажатием СС+F1 или
удалить нажатием СС+F2.  Копия блока будет  вставлена  перед
строкой,  на  которой стоит курсор.  Нельзя скопировать блок
внутрь самого блока.
  Выделение блока не мешает операциям редактирования.  Выде-
ленные строки можно редактировать как обычные.
                                                     
                                                     
                                                     
                   Форматирование текста
  
  Редактор может самостоятельно выровнять правую границу аб-
заца. Для  этого выделите нужный абзац в блок и нажмите кла-
вишу F4.  Выделенный  абзац  будет  отформатирован  в  соот-
ветствии с  текущими  установками правой границы и абзацного
отступа. Выделение будет  снято  и  курсор  будет  стоять  в
первой строке отформатированного абзаца. По умолчанию редак-
тор использует правую границу 60 и отступ красной  строки  3
символа.  Чтобы  изменить эти параметры,  поставьте курсор в
первую строку абзаца с нужными вам границами и  нажмите  F5.
Начальный   отступ   и   длина   этой  строки  будут  новыми
параметрами  форматирования. Функция центpиpования стpок вы-
полняется по нажатию клавиши F3.
  Использование переносов  при форматировании будет реализо-
вано в следующей версии программы.
  
                                                     
                                  
                     Функции редактора

Выход в меню функций производится нажатием  клавиши  АР2.  В
верхней служебной строке экрана появляется сообщение:

 Выбор: I-чтение  O-запись  L-поиск  R-замена  Q-выход
 
Нажмите клавишу,  соответствующую  выбранной функции.  Любая
другая клавиша возвращает к  редактированию  текста.
  Многие функции запрашивают ввод строки.  При этом выдается
ранее введенная строка.  Можно отредактировать старую строку
либо  ввести  новую.  Редактирование  производится клавишами
перемещения,  удаления и забоя. Для ввода новой строки сразу
начинайте вводить символы,  при этом старая строка исчезнет.
После ввода нажмите клавишу ВК. Чтобы отказаться от выполне-
ния функции, нажмите АР2. После выполнения функций могут вы-
даваться различные сообщения в мигающей строке. Для выхода
нажмите любую клавишу.

Обзор функций:

  I-чтение. Загружает текст с диска. Запрашивает имя файла с
текстом. Имя файла может содержать знаки ? и *. По умолчанию
используется  текущий  диск.  Другой  диск может быть указан
через двоеточие перед именем файла. Примеры допустимых имен:
a:*.doc, D???????.TXT.

  O-запись. Сохраняет текст из памяти на диске.  Запрашивает
имя файла аналогично функции чтения. Если такой файл уже су-
ществует,  он  переименовывается   в   *.BAK.   Существующий
BAK-файл удаляется.

  L-поиск. Производит поиск заданной подстроки  в  тексте  с
позиции курсора.  В строке могут содержаться символы-замени-
тели:  '?' заменяет любой символ,  '*' заменяет любое  коли-
чество любых символов. При поиске строчные и прописные буквы
не различаются.  Если строка найдена, то курсор устанавлива-
ется на первом символе строки.

  R-замена. Запрашивает две строки - для  поиска  и  замены.
Поиск  происходит аналогично функции поиска и после нахожде-
ния строки происходит запрос на замену следующего вида:

 Заменить ?  Y-да  N-нет  G-все  АР2-выход
 
При согласии на замену найденной строки нажмите Y, для поиска
следующей - N,  чтобы сделать глобальную замену - G, для вы-
хода - АР2.  Чтобы остановить глобальную замену, нажмите лю-
бую клавишу  и  тогда  будет  выдаваться  обычный запрос.  В
строке поиска не рекомендуется использовать заменитель '*'.

  Q-выход. Завершает работу и передает управление ДОС.



                      Печать текста

  В данной веpсии функция не  pеализована.  Возможно,  будет 
осуществляться  отдельной  пpогpаммой,  так как эта  функция 
используется нечасто. Также отдельной пpогpаммой будет  пpо-
изводиться настpойка pедактоpа,  установка  цветов шpифтов и
пpочего.



                  Техническая информация

  Текст в редакторе хранится с таким расчетом, чтобы обеспе-
чить  максимальную компактность.  С этой целью большие коли-
чества пробелов сжимаются в табуляции.  Также удаляются нез-
начащие  пробелы  в  конце  строки за последним непробельным
символом. Конец строки обозначается одним символом CR (0DН).
  Внутреннее представление  символов в редакторе - альтерна-
тивная кодировка.
  Если в редактируемом тексте, подготовленном другими редак-
торами,  есть строки длиной более,  чем  максимальная  длина
строки  редактора,  то  изменению  доступна только начальная
часть этих строк. Другая часть при редактировании теряется.
  Начало  текста  в памяти - 2A00, конец - A000. Редактоp pа-
ботает с pаспpостpаненными опеpационными системами: MICRODOS,
CP/M-39, CP/M-53. На вpемя pаботы упpавление экpаном и клави-
атуpой pедактоp беpет на себя, не пользуясь системными  функ-
циями.  Для  чтения  и записи файлов используются стандаpтные
системные вызовы ДОС.



                                                Кузнецов Р.В.

                                                31.05.94
